<script type="module">
    import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"

    Chatbot.init({
        chatflowid: "2fde307e-7613-4b3d-b791-abb0ebdcf8e6",
        apiHost: "https://ai.sevnodes.es",
        chatflowConfig: {},
        observersConfig: {},
        theme: {
            button: {
                backgroundColor: '#FF7A00',
                right: 100,
                bottom: 100,
                size: 65,
                dragAndDrop: true,
                iconColor: '#0C223F',
                customIconSrc: 'https://cdn-icons-png.flaticon.com/128/18355/18355222.png',
                autoWindowOpen: {
                    autoOpen: true,
                    openDelay: 20,
                    autoOpenOnMobile: false
                }
            },

            tooltip: {
                showTooltip: true,
                tooltipMessage: 'Â¡Hola! Â¿Necesitas ayuda? ðŸš€',
                tooltipBackgroundColor: '#0C223F',
                tooltipTextColor: '#FFFFFF',
                tooltipFontSize: 16
            },

            disclaimer: {
                title: 'Aviso Legal',
                message: "Al utilizar este asistente aceptas los <a target=\"_blank\" href=\"https://www.sevnodes.es/politicas-de-privacidad/\">TÃ©rminos y Condiciones</a>.",
                textColor: '#0C223F',
                buttonColor: '#FF7A00',
                buttonText: 'Comenzar',
                buttonTextColor: '#0C223F',
                blurredBackgroundColor: 'rgba(0,0,0,0.45)',
                backgroundColor: '#FFFFFF'
            },

            /* ------------------------------------------------------
               âœ… CSS COMPLETO: LOGOS CUADRADOS + CHAT CUADRADO
               ------------------------------------------------------ */
            customCSS: `
                /* BotÃ³n flotante */
                .flowise-launcher img {
                    width: 45.8px;
                    height: 34.8px;
                    background: #ffffff !important;
                    padding: 4px !important;
                }

                /* Logo del header del chat */
                .flowise-chatbot-header img {
                    border-radius: 0 !important;
                    background: #ffffff !important;
                    padding: 4px !important;
                }

                /* Avatar del bot en los mensajes */
                .flowise-bot-avatar img,
                .flowise-avatar img {
                    border-radius: 0 !important;
                    background: #ffffff !important;
                    padding: 3px !important;
                }

                /* Ventana del chat cuadrada */
                .flowise-chatbot-container,
                .flowise-chat-window,
                .flowise-chatbot {
                    border-radius: 0 !important;
                }
            `,

            /* ------------------------------------------------------ */

            chatWindow: {
                showTitle: true,
                showAgentMessages: true,
                title: 'Asistente SEVNODES',
                titleAvatarSrc: 'https://cdn-icons-png.flaticon.com/128/18355/18355222.png',
                welcomeMessage: 'Â¡Hola! Soy el asistente oficial de SEVNODES. Â¿En quÃ© puedo ayudarte hoy?',
                errorMessage: 'Ha ocurrido un error. IntÃ©ntalo de nuevo.',
                backgroundColor: '#FFFFFF',
                height: 700,
                width: 420,
                fontSize: 16,
                starterPrompts: [
                    "Â¿QuÃ© servicios ofrece SEVNODES?",
                    "Â¿Puedo contactar con soporte tÃ©cnico?",
                    "Â¿QuÃ© soluciones tenÃ©is para empresas?"
                ],
                starterPromptFontSize: 15,
                clearChatOnReload: false,
                sourceDocsTitle: 'Fuentes:',
                renderHTML: true,

                botMessage: {
                    backgroundColor: '#F4F6F9',
                    textColor: '#0C223F',
                    showAvatar: true,
                    avatarSrc: 'https://cdn-icons-png.flaticon.com/128/18355/18355222.png'
                },

                userMessage: {
                    backgroundColor: '#FF7A00',
                    textColor: '#0C223F',
                    showAvatar: true,
                    avatarSrc: 'https://cdn-icons-png.flaticon.com/128/3177/3177440.png'
                },

                textInput: {
                    placeholder: 'Escribe tu mensaje...',
                    backgroundColor: '#ffffff',
                    textColor: '#0C223F',
                    sendButtonColor: '#FF7A00',
                    maxChars: 400,
                    maxCharsWarningMessage: 'Has superado el lÃ­mite de 400 caracteres.',
                    autoFocus: true,
                    sendMessageSound: true,
                    sendSoundLocation: 'send_message.mp3',
                    receiveMessageSound: true,
                    receiveSoundLocation: 'receive_message.mp3'
                },

                feedback: {
                    color: '#0C223F'
                },

                dateTimeToggle: {
                    date: true,
                    time: true
                },

                footer: {
                    textColor: '#0C223F',
                    text: 'By',
                    company: 'SEVNODES',
                    companyLink: 'https://www.snwhitehosting.com/'
                }
            }
        }
    })
</script>
